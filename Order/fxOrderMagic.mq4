Auto Magic

Use chart information and external parameters to generate the unique magic id.